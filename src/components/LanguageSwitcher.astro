---
const { lang, tshared, supportedLangs } = Astro.props;
const defaultLang = "de";
---

<nav>
  <form>
    <label for="lang-select" class="visually-hidden">Language</label>
    <select id="lang-select" name="lang" onchange="location.href=this.value">
      {
        supportedLangs.map((code) => {
          const path = code === defaultLang ? "/" : `/${code}/`;
          return (
            <option value={path} selected={lang === code}>
              {tshared[`lang.${code}`] ?? code.toUpperCase()}
            </option>
          );
        })
      }
    </select>
  </form>
</nav>
